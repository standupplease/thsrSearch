<!DOCTYPE html>
<html>

<body>

    <h2>JavaScript Promise</h2>

    <p id="demo"></p>

    <script>

        const apiEndpoint = 'https://ptx.transportdata.tw/MOTC/v2/Rail/THSR/'
        function myDisplayer(some) {
            document.getElementById("demo").innerHTML = some;
        }



        let myPromise = new Promise(function (myResolve, myReject) {
            let url = `${apiEndpoint}/Station`

            let data
            fetch(url, { method: 'GET' }).then(
                res => {
                    return res.json()
                }
            ).then((jsonData) => {
                data = jsonData
                myResolve(jsonData);
            }).catch((error) => {
                myReject("error");
            })


        });

        myPromise.then(
            function (value) { myDisplayer(value); },
            function (error) { myDisplayer(error); }
        );
    </script>

</body>

</html>